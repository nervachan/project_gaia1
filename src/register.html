<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Registration</title>
   
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="/css/output.css">
</head>
<body class="bg-gray-100">
  
  <h6 class="text-lg font-semibold text-gray-700 mb-2 text-center">Join Our Community</h6>
  <p class="text-md text-gray-600 mb-4 text-center">Create an account today to access the clothing for rent, rent out your merchandise, and sell your inventory. It's quick and easy to get started!</p>

    <div class="max-w-md mx-auto mt-20 p-6 bg-white rounded-lg shadow-md">
        <h2 class="text-3xl font-semibold text-center text-gray-700 mb-6">Register in Project:Gaia</h2>
        <form id="registrationForm">
            <!-- Username Field -->
            <label for="username" class="block text-sm font-medium text-gray-600">Username</label>
            <input type="text" id="username" name="username" required class="w-full p-3 mt-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500" placeholder="Enter your username">

            <!-- Email Field -->
            <label for="email" class="block text-sm font-medium text-gray-600 mt-4">Email</label>
            <input type="email" id="email" name="email" required class="w-full p-3 mt-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500" placeholder="Enter your email">

            <!-- Password Field -->
            <label for="password" class="block text-sm font-medium text-gray-600 mt-4">Password</label>
            <input type="password" id="password" name="password" required class="w-full p-3 mt-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500" placeholder="Enter your password">

            <!-- Error Message -->
            <div class="text-red-500 text-sm mt-2" id="error-message"></div>

            <!-- Submit Button -->
            <button type="submit" class="w-full mt-6 p-3 bg-green-500 text-white rounded-md hover:bg-green-600 focus:outline-none focus:ring-2 focus:ring-green-400">Register</button>
        </form>
    </div>

    <!-- <script>
        document.getElementById("registrationForm").addEventListener("submit", function(event) {
            event.preventDefault(); // Prevent form submission
            
            // Get form values
            const username = document.getElementById("username").value;
            const email = document.getElementById("email").value;
            const password = document.getElementById("password").value;
            const errorMessage = document.getElementById("error-message");

            // Clear any previous error message
            errorMessage.textContent = '';

            // Simple validation
            if (username === "" || email === "" || password === "") {
                errorMessage.textContent = "All fields are required!";
                return;
            }

            // Simulate saving user data (e.g., to a server or database)
            localStorage.setItem("username", username); // Save username to localStorage

            // Redirect to homepage with the logged-in username
            window.location.href = `client-login.html?username=${encodeURIComponent(username)}`;
        });
    </script> -->


    <!-- registration script -->
<script>
    document.getElementById('registrationForm').addEventListener('submit', function(event) {
            event.preventDefault(); // Prevent the default form submission

            // Get user input values
            const username = document.getElementById('username').value;
            const email = document.getElementById('email').value;
            const password = document.getElementById('password').value;

            // Save user input to localStorage
            localStorage.setItem('username', username);
            localStorage.setItem('email', email);
            localStorage.setItem('password', password);

            // Redirect to login.html
            window.location.href = 'login.html';
        });
</script>
<!-- <script>
    import { getAuth, createUserWithEmailAndPassword } from "firebase/auth";

    const firebaseConfig = {
        apiKey: "AIzaSyDPP4zx3becCtJ0Px0h0anczBr-zGBEIa4",
        authDomain: "project-gaia-87b6a.firebaseapp.com",
        databaseURL: "https://project-gaia-87b6a-default-rtdb.asia-southeast1.firebasedatabase.app",
        projectId: "project-gaia-87b6a",
        storageBucket: "project-gaia-87b6a.firebasestorage.app",
        messagingSenderId: "531879488342",
        appId: "1:531879488342:web:6cd8c46b01b30f6b3d44f7",
        measurementId: "G-TS4XZPNZYL"
        };
        // Initialize Firebase
    const app = firebase.initializeApp(firebaseConfig);
    const auth = firebase.auth();
    const db = firebase.firestore();


// Handle form submission
    document.getElementById('registrationForm').addEventListener('submit', async (event) => {
    event.preventDefault(); // Prevent the default form submission

    // Get form values
    const username = document.getElementById('username').value;
    const email = document.getElementById('email').value;
    const password = document.getElementById('password').value;

    // Clear any previous error message
    document.getElementById('error-message').textContent = '';

    try {
        // Create user with Firebase Authentication
        const userCredential = await auth.createUserWithEmailAndPassword(auth, email, password);
        const user = userCredential.user;

        // Store additional user data in Firestore
        await db.collection('users').doc(user.uid).set({
            username: username,
            email: email
        });
        alert('Registration successful!');
        // Optionally, reset the form
        document.getElementById('registrationForm').reset();
    } catch (error) {
        console.error('Error registering user: ', error);
        document.getElementById('error-message').innerText = error.message; // Display error message
    }
});
</script> -->

</body>
</html>
